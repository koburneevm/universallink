var CALL_TO_ACTION_TEXT="Install",DEFAULT_SUBDOMAIN="go",MOBILE_REGEXP="/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i";
function AFBanner(){this.buildUrl=function(e){function t(e,t){return t?"&"+e+"="+encodeURIComponent(t):""}return"https://"+(e.subdomain||DEFAULT_SUBDOMAIN)+".onelink.me/"+e.onelink_id+"?af_banner=true"+t("pid",e.media_source)+t("c",e.campaign)+t("af_adset",e.adset)+t("af_adset_id",e.adset_id)+t("af_ad",e.ad)+t("af_ad_id",e.ad_id)+t("af_siteid",e.site_id)+t("af_sub1",e.sub1)+t("af_dp",e.mobile_deeplink)},this.buildBanner=function(e,t,n){var i=document.createElement("IMG");
i.setAttribute("class","appsflyer-banner-close-img"),i.setAttribute("src","img/close.png");var a="var bannerWrapper = document.getElementById('"+e+"'); while (bannerWrapper.firstChild) {bannerWrapper.removeChild(bannerWrapper.firstChild);}",r=document.createElement("DIV");r.setAttribute("class","appsflyer-banner-close-container"),r.setAttribute("onclick",a),r.appendChild(i);var l=document.createElement("DIV");l.setAttribute("class","appsflyer-banner-title"),l.innerHTML=n.title;var s=document.createElement("DIV");
s.setAttribute("class","appsflyer-banner-subtitle"),s.innerHTML=n.subtitle;var d=document.createElement("DIV");d.setAttribute("class","appsflyer-banner-text-container"),d.appendChild(l),d.appendChild(s);var o=document.createElement("IMG");o.setAttribute("class","appsflyer-banner-icon-img"),o.setAttribute("src",n.app_icon);var c=document.createElement("DIV");c.setAttribute("class","appsflyer-banner-icon-container"),c.appendChild(o);var p=document.createElement("BUTTON");p.setAttribute("id","appsflyer-banner-button"),p.setAttribute("class",
"appsflyer-banner-download-button"),p.innerHTML=n.call_to_action||CALL_TO_ACTION_TEXT;var u=document.createElement("DIV");return u.setAttribute("class","appsflyer-banner-container"),u.appendChild(r),u.appendChild(c),u.appendChild(d),u.appendChild(p),u},this.validateSettings=function(e){var t=[];return e.onelink_id||t.push("OneLink ID"),e.media_source||t.push("Media Source"),!(t.length>0)||(console.error("Error: Your AppsFlyer Banner settings object does not contain: "+t.join(", ")),
!1)},this.showOnCurrentDevice=function(e){return!e.show_only_mobile||navigator.userAgent.match(MOBILE_REGEXP)},this.getRedirect=function(e,t){document.location=t,setTimeout(function(){window.location=e},25)},this.init=function(e,t){if(this.validateSettings(t)&&this.showOnCurrentDevice(t)){var n=this.buildUrl(t),i=this.buildBanner(e,n,t);document.getElementById(e).appendChild(i),document.getElementById("appsflyer-banner-button").addEventListener("click",()=>this.getRedirect(n,t.mobile_deeplink));
var a=document.createElement("meta");a.name="viewport",a.content="width=device-width, initial-scale=1.0",document.getElementsByTagName("head")[0].appendChild(a)}}}